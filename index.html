<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTFâ€‘8">
  <title>Wrapsa Lumpia</title>
  <style>
    body { fontâ€‘family: Arial; background: #fff3e0; textâ€‘align: center; padding: 20px; }
    button { padding: 10px; margin: 5px; background: orange; color: white; border: none; cursor: pointer; }
    .hidden { display: none; }
    .orderâ€‘card { background: white; margin: 10px auto; padding: 10px; width: 300px; borderâ€‘radius: 5px; }
  </style>
</head>
<body>

<h1>ðŸŒ¯ Wrapsa</h1>

<div>
  <button onclick="showOrder()">Order Now</button>
  <button onclick="showKitchen()">Kitchen View</button>
</div>

<section id="order-section">
  <h2>Order Now</h2>
  <input id="name" placeholder="Your Name"><br><br>
  <select id="item">
    <option>Classic Lumpia</option>
    <option>Cheese Lumpia</option>
    <option>Spicy Lumpia</option>
  </select><br><br>
  <button onclick="placeOrder()">Place Order</button>
</section>

<section id="kitchen-section" class="hidden">
  <h2>Kitchen View</h2>
  <div id="pin-section">
    <input id="pin" placeholder="Enter PIN">
    <button onclick="unlockKitchen()">Unlock</button>
  </div>
  <div id="orders-list" class="hidden"></div>
</section>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-appâ€‘compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebaseâ€‘databaseâ€‘compat.js"></script>

<script>
  // 1ï¸âƒ£ Firebase config
  const firebaseConfig = {
    apiKey: "AIzaSyBWFky3ws2qePzzLW0xKkfA7q3PG-Sr1Z0",
    authDomain: "wrapsa-81a32.firebaseapp.com",
    databaseURL: "https://wrapsa-81a32-default-rtdb.firebaseio.com",
    projectId: "wrapsa-81a32",
    storageBucket: "wrapsa-81a32.appspot.com",
    messagingSenderId: "181271317560",
    appId: "1:181271317560:web:f86a4e0dab265a65056acd"
  };

  // 2ï¸âƒ£ Initialize Firebase FIRST
  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  // 3ï¸âƒ£ NOW define everything that uses db
  const PIN = "123PEEPS";

  function placeOrder() {
    const name = document.getElementById("name").value;
    const item = document.getElementById("item").value;

    if (!name) return alert("Enter your name");

    db.ref("orders").push({
      name,
      item,
      status: "Ordered"
    });

    alert("Order placed!");
  }

  function unlockKitchen() {
    const pin = document.getElementById("pin").value;
    if (pin === PIN) {
      listenForOrders();
    } else {
      alert("Wrong PIN");
    }
  }

  function listenForOrders() {
    db.ref("orders").on("value", snapshot => {
      console.log(snapshot.val());
    });
  }
</script>

</script>

</body>
</html>
